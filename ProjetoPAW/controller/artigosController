var moongoose = require("moongoose");
var Utilizador = require("../Mongoose/schemas/utilizador.js");




//****************UTILIZADOR*******************************************


var utilizadorController = {};

//Criar utilizador
utilizadorController.createUtlz = function (req,res,next){
	var user = new Utilizador(req.body);

	product.save(function (err){
		if(err){
			next(err);
		}else{
			res.json(utilizador);
		}
	});
};

//atualizar utilizador
utilizadorController.updateController = function(req,res,next){
	Utilizador.findByIdAndUpdate(req.body._id,req.body,{new: true}, function(err,utilizador){
		if(err){
			next(err);
		}else{
			res.json(utilizador);
		}
	});
};


//Apagar utilizador
utilizadorController.deleteUtlz = function (req,res,next){
	req.product.remove(function (err){
		if(err){
			next(err);
		}else{
			res.json(req.utilizador);
		}
	});
};

//Buscar todos os utilizadores
utilizadorController.getUtilizadores = function(req,res,next){
	Utilizador.find(function(err,utilizadores){
		if(err){
			next(err);
		}else{
			res.json(utilizadores);
		}
	});
};

//buscar um utilizador
utilizadorController.getUmUtilizador = function(req,res){
	res.json(req.utilizador);
};


utilizadorController.getUtilizadorById = function(req,res){
	res.json(req.utilizador);
	Utilizador.findById(req.body._id,req.body,{new: true}, function(err,utilizador){
		if(err){
			next(err);
		}else{
			res.json(utilizador);
		}
	});
};


//export do modulo
module.export = utilizadorController;